<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <title>Wiki Template, History Section &#8211; ExpressionEngine Documentation</title> 
  <style type="text/css" media="screen,print">@import url(../../docs.css);</style> 

<style type="text/css">
.screencap {
margin: 30px 0;
text-align: center;
}

#content h4 {
	font-size: 12px;
	font-weight: bold;
	color:	#363;
	background-color: transparent;
	border-bottom: 1px solid #363;
	margin: 10px 0 0 35px;
	padding: 5px 0 3px 9px;
	}
</style>
</head>

<body>
<div><a name="top"></a></div>

<div id="header">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%;"><tr>
<td class="docheading" style="width:300px;"><a href="README.html"><img src="../../images/user_guide.gif" width="231" height="24" alt="ExpressionEngine User Guide" /></a></td>
</tr>
</table>
</div>

<div id="navlinks">
<a href="../../index.html">Table of Contents</a> &gt;
<a href="../../index.html#modules_docs">Modules and Tags</a> &gt;
<a href="index.html">Wiki Module</a> &gt;
<a href="wiki_templates.html">Theme Template</a> &gt;
<strong>Wiki History Section</strong>
</div>

<div id="content">

	<h1>Wiki History Section</h1>

	<p>This section determines how an article's revision history is displayed within the Wiki Page wrapper template as outlined below:</p>

<div class="screencap"><img src="../../images/wiki_history_highlight.jpg" width="550" height="182" alt="The Wiki History section of the template determines the visual display of an article's revision history as highlighted below." /></div>

	<p>In addition to the variables in the <a href="wiki_templates_page.html">Wiki Page section</a>, the History section has:</p>


<ul>
<li><a href="#conditional">Conditional Variables</a></li>
<li><a href="#tag">Tags</a></li>
</ul>

<h2><a name="conditional">Conditional Variables</a></h2>

<ul>
<li><a href="#var_con_no_history">{if no_history}</a></li>
<li><a href="#var_con_history">{if history}</a></li>
</ul>

<h3><a name="var_con_no_history">if no_history</a></h3>

	<code>{if no_history}</code>

	<p>Checks to see if the article has a revision history. If it doesn't, display the information between this conditional.</p>

<h3><a name="var_con_history">if history</a></h3>

	<code>{if history}</code>

	<p>Checks to see if the article has a revision history. If it does, display the information in this conditional. This is used in combination with the <a href="#tag">{wiki:revisions}</a> tag.</p>

<h2><a name="tag">Tags</a></h2>

	<p>The History section the <strong>{wiki:revisions}</strong> tag which is used for displaying an article's revisions. The tag has <a href="#revisions_sin">Single</a> and <a href="#revisions_con">Conditional</a> variables available.</p>

<h3><a name="revisions_sin">{wiki:revisions} | Single Variables</a></h3>

<ul>
<li><a href="#var_sin_count">{count}</a></li>
<li><a href="#var_sin_path_open_revision">{path:open_revision}</a></li>
<li><a href="#var_sin_path_close_revision">{path:close_revision}</a></li>
<li><a href="#var_sin_wiki_revision_author">{revision_author}</a></li>
<li><a href="#var_sin_wiki_revision_date">{revision_date format=""}</a></li>
<li><a href="#var_sin_wiki_revision_notes">{revision_notes}</a></li>
<li><a href="#var_sin_wiki_revision_status">{revision_status}</a></li>
<li><a href="#var_sin_switch">{switch="one|two|three"}</a></li>
</ul>

<h4><a name="var_sin_count">count</a></h4>

	<code>{count}</code>

	<p>"count" of the file currently being displayed</p>

<h4><a name="var_sin_path_open_revision">path:open_revision</a></h4>

	<code>{path:open_revision}</code>

	<p>Displays the URL to Open the revision.</p>

	<p class="important"><strong>NOTE:</strong> Opening a revision approves it and makes it live.</p>

<h4><a name="var_sin_path_close_revision">path:close_revision</a></h4>

	<code>{path:close_revision}</code>

	<p>Displays the URL that will close a revision.</p>

<h4><a name="var_sin_wiki_revision_author">revision author</a></h4>

	<code>{revision_author}</code>

	<p>Displays the Screen Name of Author of this revision.</p>

<h4><a name="var_sin_wiki_revision_date">revision date</a></h4>

	<code>{revision_date format=""}</code>

	<p>When a revision of an article is displayed this shows the date of the revision being viewed.</p>

	<p>The <strong>format</strong> parameter is used to determine the date's formatting using ExpressionEngine's <a href="../../templates/date_variable_formatting.html">Date Variable Formatting</a>. For example, this:</p>

	<code>Revised: {revision_date format="%D, %F %d, %Y - %g:%i:%s"}</code>

	<p>Would render this:</p>

	<code>Revised: Mon, January 15, 2006 - 10:23:45</code>
	
<h4><a name="var_sin_wiki_revision_notes">revision notes</a></h4>

	<code>{revision_notes}</code>

	<p>Displays any notes submitted for this revision.</p>

<h4><a name="var_sin_wiki_revision_status">revision status</a></h4>

	<code>{revision_status}</code>

	<p>Displays the revision's status (open or closed).</p>

<h4><a name="var_sin_switch">switch=</a></h4>

	<code>{switch="option_one|option_two|option_three"}</code>

	<p>This variable permits you to rotate through any number of values as the articles are displayed.  The first article will use "option_one", the second will use "option_two", the third "option_three", the fourth "option_one", and so on.</p>

	<p>Multiple instances of the <samp>{switch=}</samp> tag may be used and the system will intelligently keep track of each one.</p>


<h3><a name="revisions_con">{wiki:revisions} | Conditional Variables</a></h3>

<ul>
<li><a href="#var_con_wiki_notes">{if notes}</a></li>
<li><a href="#var_con_wiki_status">{if revision_status}</a></li>
</ul>

<h4><a name="var_con_wiki_notes">if notes</a></h4>

	<code>{if notes}</code>

	<p>Checks to see if revision notes exist for this revision.</p>

<h4><a name="var_con_wiki_status">if revision status</a></h4>

	<code>{if revision_status}</code>

	<p>Checks to see if the revision's status. The possible values are:</p>

<ul>
<li><strong>open</strong>: Checks to see if a revision is "open".</li>
<li><strong>closed</strong>: Checks to see if a revision is "closed".</li>
</ul>

	<p>This is used in combination with the <a href="#var_sin_path_open_revision">{path:open_revision}</a> and 
<a href="#var_sin_path_close_revision">{path:close_revision}</a> variables to create an easy way for Admins to "open" and "close" a revision.</p>

	<p>For example, if you are viewing a article's revision and the status of revision is <strong>closed</strong> then the following:</p>

	<code>
{if revision_status == 'closed'}<br />
[&lt;a href="{path:open_revision}">Open Revision&lt;/a>]<br />
{/if}
<br />
<br />
{if revision_status == 'open'}<br />
[&lt;a href="{path:close_revision}">Close Revision&lt;/a>]<br />
{/if}
</code>

	<p>Would render this:</p>

	<code>
[&lt;a href="http://example.com/index.php/wiki/index/revision/25/open/">Open Revision&lt;/a>]
</code>


</div>
	
	<p class="center"><a href="#top">Top of Page</a></p>

<!-- {user_guide_comments} -->

<div id="footer">
  <address><a href="http://expressionengine.com/">ExpressionEngine</a> &#8211; Copyright &#169; 2002-2012 &#8211; <a href="http://ellislab.com/">EllisLab, Inc.</a></address>
</div>

</body>
</html>